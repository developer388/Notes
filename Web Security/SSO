<mxfile host="app.diagrams.net" modified="2023-05-22T16:50:55.515Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36" etag="f135DVpFA9TM98M9L_Va" version="21.3.2" type="device">
  <diagram name="Page-1" id="lGwq4opRxHlcpei5Cjty">
    <mxGraphModel dx="954" dy="1703" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="BGafWl-5jTjDNoPHxIce-1" value="" style="triangle;whiteSpace=wrap;html=1;rotation=-90;" parent="1" vertex="1">
          <mxGeometry x="197.5" y="-375" width="140" height="160" as="geometry" />
        </mxCell>
        <mxCell id="BGafWl-5jTjDNoPHxIce-2" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;Service Provider&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="197.5" y="-410" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="BGafWl-5jTjDNoPHxIce-3" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;Identity Provider&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="352.5" y="-230" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-2" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;Principle or User&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="32.5" y="-215" width="145" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-4" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="569.9650000000001" y="154" as="sourcePoint" />
            <mxPoint x="930" y="-210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-5" value="&lt;b&gt;Service&lt;/b&gt;&lt;br&gt;&lt;br&gt;your-webapp.com" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;flipH=1;" vertex="1" parent="1">
          <mxGeometry x="1020" y="-360" width="133" height="160" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-7" value="&lt;b&gt;Step 1&lt;/b&gt;. User makes a request to your website to access a feature" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-45;" vertex="1" parent="1">
          <mxGeometry x="528.23" y="-62.23" width="406" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-8" value="" style="endArrow=none;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="577" y="164" as="sourcePoint" />
            <mxPoint x="940" y="-200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-9" value="&lt;b&gt;Step 2&lt;/b&gt;. Service checks that user is not authenticated and redirects the client to Identitity Provider service" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-45;" vertex="1" parent="1">
          <mxGeometry x="571.66" y="-11.16" width="403" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-10" value="&lt;b&gt;Identity Provider&lt;br&gt;Service&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Your app is registered:&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;your-webapp.com&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;User has a account in Identity Provider service&lt;/span&gt;&lt;/div&gt;" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;flipH=1;" vertex="1" parent="1">
          <mxGeometry x="1230" y="130" width="133" height="250" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-11" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="336" as="sourcePoint" />
            <mxPoint x="1190" y="336" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-12" value="&lt;b&gt;Step 3&lt;/b&gt;. Client makes a request to Identity Service passing service details which it needs to access" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="672.5" y="300" width="477.5" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-13" value="" style="endArrow=none;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="670" y="352" as="sourcePoint" />
            <mxPoint x="1190" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-14" value="&lt;b&gt;Step 4.&amp;nbsp;&lt;/b&gt;Identity Provider service check whether the user is already logged in in Identity Provider or not. If user not logged in, it asks user to login and generates a signed SAML or OPEN ID JSON document/token which Client can pass to Service for authentication/authorization purpose.&lt;br&gt;&lt;br&gt;If User is already logged in it relogin is not required" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=0;" vertex="1" parent="1">
          <mxGeometry x="672.5" y="380" width="535" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;entryX=1;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" target="6aEGpyIiDiv_iRnp9aY2-16">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="659.9950000000001" y="244" as="sourcePoint" />
            <mxPoint x="867.03" y="30" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-16" value="&lt;b&gt;Step 5&lt;/b&gt;. Once token is received Client again makes the request to same path on the service and passes auth token/document with the request" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-45;" vertex="1" parent="1">
          <mxGeometry x="585" y="18.84" width="510" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-18" value="" style="endArrow=none;html=1;rounded=0;exitX=0.917;exitY=-0.2;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;endFill=0;startArrow=classic;startFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="669.66" y="250" as="sourcePoint" />
            <mxPoint x="1040" y="-130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-19" value="&lt;b&gt;Step 6&lt;/b&gt;. Service checks if auth details are signed by the Identity Provider and are correct and returns the result that Client is asking for" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-45;" vertex="1" parent="1">
          <mxGeometry x="640" y="60.00000000000001" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-22" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="497.5" y="250" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-23" value="&lt;br&gt;Client/User" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="452.5" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-25" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;Single Sign On&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="32.5" y="-540" width="185" height="30" as="geometry" />
        </mxCell>
        <mxCell id="6aEGpyIiDiv_iRnp9aY2-26" value="Main Components" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;strokeWidth=3;" vertex="1" parent="1">
          <mxGeometry x="30" y="-450" width="140" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
